fun initial_i32() -> i32 {
    return 0;
}

behaviour Formable {
    fun (Self) ok() -> bool
    fun (*Self) apply() -> void
}

fun (i32) ok() -> bool {
    return self < 10;
}

fun (*i32) apply() -> void {
    self.* += 1;
}

fun (T) form<T: Formable>() -> T {
    while self.ok() {
        self.apply();
    }
    return self;
}

fun main() -> i32 {
    var i = initial_i32().form.<i32>();
    if i == 0 {
        return 1;
    }
    return 0;
}
